"use strict";(self.webpackChunkcarbondesignsystem=self.webpackChunkcarbondesignsystem||[]).push([[317348],{958689:function(e,n,t){var r;t.d(n,{we:function(){return b}});var o=t(296540),s=t(966984),l=(t(474848),t(786635)),u=(t(440961),t(434743));const c="ArrowLeft",f="ArrowRight",a="ArrowUp",i="ArrowDown";const d=[c,f],m=[a,i],g={...r||(r=t.t(o,2))};let R=!1,v=0;const C=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+v++;const p=g.useId||function(){const[e,n]=o.useState(()=>R?C():void 0);return(0,s.OS)(()=>{null==e&&n(C())},[]),o.useEffect(()=>{R=!0},[]),e};function w(){const e=new Map;return{emit(n,t){var r;null==(r=e.get(n))||r.forEach(e=>e(t))},on(n,t){e.has(n)||e.set(n,new Set),e.get(n).add(t)},off(n,t){var r;null==(r=e.get(n))||r.delete(t)}}}const h=o.createContext(null),S=o.createContext(null),x=()=>{var e;return(null==(e=o.useContext(h))?void 0:e.id)||null},M=()=>o.useContext(S);function b(e){void 0===e&&(e={});const{nodeId:n}=e,t=function(e){const{open:n=!1,onOpenChange:t,elements:r}=e,l=p(),u=o.useRef({}),[c]=o.useState(()=>w()),f=null!=x(),[a,i]=o.useState(r.reference),d=(0,s.Jt)((e,n,r)=>{u.current.openEvent=e?n:void 0,c.emit("openchange",{open:e,event:n,reason:r,nested:f}),null==t||t(e,n,r)}),m=o.useMemo(()=>({setPositionReference:i}),[]),g=o.useMemo(()=>({reference:a||r.reference||null,floating:r.floating||null,domReference:r.reference}),[a,r.reference,r.floating]);return o.useMemo(()=>({dataRef:u,open:n,onOpenChange:d,elements:g,events:c,floatingId:l,refs:m}),[n,d,g,c,l,m])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||t,c=r.elements,[f,a]=o.useState(null),[i,d]=o.useState(null),m=(null==c?void 0:c.domReference)||f,g=o.useRef(null),R=M();(0,s.OS)(()=>{m&&(g.current=m)},[m]);const v=(0,u.we)({...e,elements:{...c,...i&&{reference:i}}}),C=o.useCallback(e=>{const n=(0,l.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;d(n),v.refs.setReference(n)},[v.refs]),h=o.useCallback(e=>{((0,l.vq)(e)||null===e)&&(g.current=e,a(e)),((0,l.vq)(v.refs.reference.current)||null===v.refs.reference.current||null!==e&&!(0,l.vq)(e))&&v.refs.setReference(e)},[v.refs]),S=o.useMemo(()=>({...v.refs,setReference:h,setPositionReference:C,domReference:g}),[v.refs,h,C]),b=o.useMemo(()=>({...v.elements,domReference:m}),[v.elements,m]),k=o.useMemo(()=>({...v,...r,refs:S,elements:b,nodeId:n}),[v,S,b,n,r]);return(0,s.OS)(()=>{r.dataRef.current.floatingContext=k;const e=null==R?void 0:R.nodesRef.current.find(e=>e.id===n);e&&(e.context=k)}),o.useMemo(()=>({...v,context:k,refs:S,elements:b}),[v,S,b,k])}}}]);